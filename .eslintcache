[{"D:\\React projects\\my-techstore\\src\\index.js":"1","D:\\React projects\\my-techstore\\src\\context\\products\\product.context.js":"2","D:\\React projects\\my-techstore\\src\\components\\Product\\FeaturedProducts.js":"3","D:\\React projects\\my-techstore\\src\\components\\Product\\Product.js":"4","D:\\React projects\\my-techstore\\src\\components\\common\\Button.js":"5","D:\\React projects\\my-techstore\\src\\components\\Hero.js":"6","D:\\React projects\\my-techstore\\src\\App.js":"7","D:\\React projects\\my-techstore\\src\\pages\\ProductDetails.js":"8","D:\\React projects\\my-techstore\\src\\pages\\Checkout.js":"9","D:\\React projects\\my-techstore\\src\\pages\\Login.js":"10","D:\\React projects\\my-techstore\\src\\context\\users\\users.conext.js":"11","D:\\React projects\\my-techstore\\src\\utils\\URL.js":"12","D:\\React projects\\my-techstore\\src\\components\\Header.js":"13","D:\\React projects\\my-techstore\\src\\utils\\helpers.js":"14","D:\\React projects\\my-techstore\\src\\api\\base.js":"15","D:\\React projects\\my-techstore\\src\\api\\register.js":"16","D:\\React projects\\my-techstore\\src\\components\\LoginLink.js":"17","D:\\React projects\\my-techstore\\src\\components\\PrivateRoute.js":"18","D:\\React projects\\my-techstore\\src\\components\\common\\Alert.js":"19","D:\\React projects\\my-techstore\\src\\themes\\light.js":"20","D:\\React projects\\my-techstore\\src\\context\\UI\\alert.context.js":"21","D:\\React projects\\my-techstore\\src\\components\\common\\Overlay.js":"22"},{"size":804,"mtime":1607088419643,"results":"23","hashOfConfig":"24"},{"size":974,"mtime":1607026017775,"results":"25","hashOfConfig":"24"},{"size":432,"mtime":1606851340979,"results":"26","hashOfConfig":"24"},{"size":1339,"mtime":1606859345705,"results":"27","hashOfConfig":"24"},{"size":2274,"mtime":1606946026929,"results":"28","hashOfConfig":"24"},{"size":1028,"mtime":1606854319974,"results":"29","hashOfConfig":"24"},{"size":1633,"mtime":1607028135606,"results":"30","hashOfConfig":"24"},{"size":1886,"mtime":1606860151226,"results":"31","hashOfConfig":"24"},{"size":175,"mtime":1606681812118,"results":"32","hashOfConfig":"24"},{"size":3825,"mtime":1607090500971,"results":"33","hashOfConfig":"24"},{"size":848,"mtime":1607025508257,"results":"34","hashOfConfig":"24"},{"size":59,"mtime":1606601425990,"results":"35","hashOfConfig":"24"},{"size":2155,"mtime":1607025930405,"results":"36","hashOfConfig":"24"},{"size":290,"mtime":1607010629292,"results":"37","hashOfConfig":"24"},{"size":142,"mtime":1607010634486,"results":"38","hashOfConfig":"24"},{"size":321,"mtime":1607010625219,"results":"39","hashOfConfig":"24"},{"size":674,"mtime":1607026495614,"results":"40","hashOfConfig":"24"},{"size":399,"mtime":1607027656265,"results":"41","hashOfConfig":"24"},{"size":1670,"mtime":1607089869972,"results":"42","hashOfConfig":"24"},{"size":224,"mtime":1606848872764,"results":"43","hashOfConfig":"24"},{"size":531,"mtime":1607090441854,"results":"44","hashOfConfig":"24"},{"size":661,"mtime":1607089806464,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1bram5j",{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\React projects\\my-techstore\\src\\index.js",[],"D:\\React projects\\my-techstore\\src\\context\\products\\product.context.js",[],"D:\\React projects\\my-techstore\\src\\components\\Product\\FeaturedProducts.js",[],"D:\\React projects\\my-techstore\\src\\components\\Product\\Product.js",[],"D:\\React projects\\my-techstore\\src\\components\\common\\Button.js",[],"D:\\React projects\\my-techstore\\src\\components\\Hero.js",[],"D:\\React projects\\my-techstore\\src\\App.js",[],"D:\\React projects\\my-techstore\\src\\pages\\ProductDetails.js",[],"D:\\React projects\\my-techstore\\src\\pages\\Checkout.js",[],"D:\\React projects\\my-techstore\\src\\pages\\Login.js",["91","92"],"import { useState, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\nimport PageLayout from '../components/PageLayout'\r\n\r\n// Context\r\nimport { UserContext } from '../context/users/users.conext'\r\nimport { AlertContext } from '../context/UI/alert.context'\r\n\r\n// Strapi functions\r\nimport login from '../api/login'\r\nimport register from '../api/register'\r\n\r\nimport { Button } from '../components/common'\r\nimport Alert from '../components/common/Alert'\r\n\r\nconst FormContainer = styled.main`\r\n  width: 40%;\r\n  margin: 4rem auto;\r\n  font-family: 'Roboto';\r\n  padding: 2rem;\r\n  & h2 {\r\n    text-align: center;\r\n    text-transform: capitalize;\r\n    margin-bottom: 2rem;\r\n  }\r\n  box-shadow: 5px 5px 5px black;\r\n  background-color: white;\r\n\r\n  p {\r\n    text-align: center;\r\n    text-transform: capitalize;\r\n    margin-top: 1rem;\r\n  }\r\n\r\n  p.error {\r\n    color: red;\r\n  }\r\n\r\n  p.toggle:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  & p:nth-of-type(1) {\r\n    color: ${(p) => p.theme.secondaryBlue};\r\n  }\r\n\r\n  @media screen and (max-width: 768px) {\r\n    width: 80%;\r\n  }\r\n`\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 1rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 5px;\r\n  border: 2px solid ${(p) => p.theme.mainBlue};\r\n  outline-color: ${(p) => p.theme.mainGreen};\r\n`\r\n\r\nexport default function Login() {\r\n  // States\r\n  const [formInputs, setFormInputs] = useState({\r\n    username: 'username',\r\n    password: '',\r\n    email: '',\r\n  })\r\n  const [isMember, setIsMember] = useState(true)\r\n\r\n  const { username, password, email } = formInputs\r\n\r\n  const isEmpty = !username || !password || !email\r\n\r\n  // History object\r\n  const history = useHistory()\r\n\r\n  // User context\r\n  const { userLogin } = useContext(UserContext)\r\n  const { showAlert } = useContext(AlertContext)\r\n\r\n  function toggleIsMember() {\r\n    setIsMember((s) => {\r\n      setFormInputs({ ...formInputs, username: '' })\r\n      return !s\r\n    })\r\n  }\r\n\r\n  function handleChange(e) {\r\n    setFormInputs({ ...formInputs, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    let response\r\n    if (isMember) response = await login({ email, password })\r\n    else response = await register({ email, password, username })\r\n\r\n    if (response) {\r\n      const {\r\n        jwt: token,\r\n        user: { username },\r\n      } = response.data\r\n\r\n      userLogin({ username, token })\r\n      history.push('/products')\r\n      showAlert({ message: `hello! ${username}! you are now logged in.` })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <PageLayout>\r\n      <FormContainer>\r\n        <h2>{isMember ? 'login' : 'register'}</h2>\r\n        <Form>\r\n          <Input\r\n            type='text'\r\n            name='email'\r\n            placeholder='email'\r\n            value={email}\r\n            onChange={(e) => handleChange(e)}\r\n          />\r\n          <Input\r\n            type='password'\r\n            name='password'\r\n            placeholder='password'\r\n            value={password}\r\n            onChange={(e) => handleChange(e)}\r\n          />\r\n          {!isMember && (\r\n            <Input\r\n              type='text'\r\n              name='username'\r\n              placeholder='username'\r\n              value={username}\r\n              onChange={(e) => handleChange(e)}\r\n            />\r\n          )}\r\n          <Button type='submit' onClick={handleSubmit}>\r\n            {isMember ? 'login' : 'register'}\r\n          </Button>\r\n        </Form>\r\n        <p className='toggle' onClick={toggleIsMember}>\r\n          {isMember ? 'not register yet?' : 'already register?'}\r\n        </p>\r\n        {isEmpty && <p className='error'>please fill out all the fields</p>}\r\n      </FormContainer>\r\n    </PageLayout>\r\n  )\r\n}\r\n","D:\\React projects\\my-techstore\\src\\context\\users\\users.conext.js",[],"D:\\React projects\\my-techstore\\src\\utils\\URL.js",[],"D:\\React projects\\my-techstore\\src\\components\\Header.js",[],"D:\\React projects\\my-techstore\\src\\utils\\helpers.js",[],"D:\\React projects\\my-techstore\\src\\api\\base.js",[],"D:\\React projects\\my-techstore\\src\\api\\register.js",[],"D:\\React projects\\my-techstore\\src\\components\\LoginLink.js",[],"D:\\React projects\\my-techstore\\src\\components\\PrivateRoute.js",[],"D:\\React projects\\my-techstore\\src\\components\\common\\Alert.js",[],"D:\\React projects\\my-techstore\\src\\themes\\light.js",[],"D:\\React projects\\my-techstore\\src\\context\\UI\\alert.context.js",[],"D:\\React projects\\my-techstore\\src\\components\\common\\Overlay.js",[],{"ruleId":"93","severity":1,"message":"94","line":16,"column":8,"nodeType":"95","messageId":"96","endLine":16,"endColumn":13},{"ruleId":"93","severity":1,"message":"97","line":86,"column":11,"nodeType":"95","messageId":"96","endLine":86,"endColumn":16},"no-unused-vars","'Alert' is defined but never used.","Identifier","unusedVar","'alert' is assigned a value but never used."]